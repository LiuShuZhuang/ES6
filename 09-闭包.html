<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ECMA</title>
</head>

<body>

    <script>
        /*
            闭包：基于正常的垃圾回收处理机制
            一般情况 函数执行完毕 里面的变量会释放 被垃圾回收器回收   
            闭包可以使作用域里的变量 在函数执行完毕后 依然不被回收

            如 函数child位于函数parent内
            函数child可以访问parent内部的变量和函数     当child在parent外部被访问时 就会形成闭包 (x和info不会被回收);
        */

        {   //基本的闭包
            function parent(x){
                var info = 18;

                return function child(y){
                    alert(info+y+(x++));
                }
            }

            let result = parent(1);

            // result(1);
            // result(1);
            // result(1);
        }

        {   //闭包的五种写法  一
            function Circle(r){
                this.r = r;
            }

            Circle.PI = 3.14159;
            Circle.prototype.area = function(){
                return Circle.PI*Math.pow(this.r,2);
            }

            let result = new Circle(2);
            console.log(result.area());
        }
    </script>
</body>

</html>